@startuml
skinparam classAttributeIconSize 0
'https://plantuml.com/class-diagram

abstract class Grid{
    - size : int
    - regions: List<Region>
    + SudokuGrid(size : int)
    + {abstract} isValid(row : int, col : int, value : int) : boolean
    + {abstract} solve() : boolean
    + display() : void
    + setValue(row : int, col : int, value : int) : void
    + getValue(row : int, col : int) : int
    + getRegionsForCell(row: int, col: int): List<Region>
}

class Region {
    - id: String
    - cells: List<Cell>
    + addCell(cell: Cell)
}

class Cell {
    -value : <E>
    -x : int
    -y : int
    - linkedGrids: List<Grid>
    +Cell(value,x,y)
}

class ClassicSudokuGrid{
    + ClassicSudokuGrid()
    + isValid(row : int, col : int, value : int) : boolean
    + solve() : boolean
}

class MultidokuGrid{
    - sharedCells: List<Cell>
    + MultidokuGrid()
    + addSharedCell(cell: Cell)
    + isValid(row : int, col : int, value : int) : boolean
    + solve() : boolean
}

abstract class Rule {
    + applyRule(grid: Grid): boolean
}
class ExclusionDirecte extends Rule {
    + applyRule(grid: Grid): boolean
}
class PairesExclusives extends Rule {
    + applyRule(grid: Grid): boolean
}
class UniciteForcee extends Rule {
    + applyRule(grid: Grid): boolean
}


class Generator {
    + Generator()
    +GeneratePuzzle(Grid grid): Grid
}
Generator ..> Grid

class MenuTextuel {
    +LoadGrid(Grid (grid: Grid)
    +ChoisirMethodeResolution()
    +GenererGrille(Grid grid): Grid
}

abstract class SolverStrategy {
    + solve(grid: Grid): boolean
    + getSteps(): List<String>
}

class RuleBasedSolver {
    - rules: List<Rule>
    + addRule(rule: Rule): void
}

class BacktrackingSolver {
    - maxDepth: int
}

class HybridSolver {
    - ruleSolver: RuleBasedSolver
    - backtrackSolver: BacktrackingSolver
}

class Logger {
    - logs: List<String>
    + log(step: String): void
    + exportLogs(): void
    + clearLogs(): void
}

abstract class SolverStrategy {
    - logger: Logger  ' Attribut commun à tous les solveurs
    + solve(grid: Grid): boolean
    + getSteps(): List<String>
}

SolverStrategy --> Logger : utilise

Generator<--MenuTextuel

Grid <|-- MultidokuGrid
Grid <|-- ClassicSudokuGrid
Grid *-- Region
Grid <-- SolverStrategy

Generator ..> SolverStrategy

MultidokuGrid <-- SolverStrategy
MultidokuGrid o-- "1 à n" ClassicSudokuGrid

Region *-- Cell

SolverStrategy <|-- RuleBasedSolver
SolverStrategy <|-- HybridSolver
SolverStrategy <|-- BacktrackingSolver
RuleBasedSolver "1" *-- "1..*" Rule



@enduml